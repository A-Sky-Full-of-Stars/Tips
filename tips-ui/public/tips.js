!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var o=function(t,e,n,o,i){const d=function(){let t;return t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),t}();null!==d&&(d.open(e,t,!0),"POST"===e&&d.setRequestHeader("Content-type","application/json"),"GET"===e?d.send():d.send(n),d.onreadystatechange=function(){if(4===d.readyState&&200===d.status)o(d);else{if(200!==d.status&&!i)throw new Error("网络请求失败");200!==d.status&&i&&i(d)}})};var i={debounce:function(t,e){let n=null;return function(){const o=this,i=arguments;n&&clearTimeout(n),n=setTimeout((function(){t.apply(o,i)}),e)}},getTime:function(){const t=new Date;return`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`},filterTag:function(t){var e={"<":"&lt;",">":"&gt;"};return t.replace(/<\/?(.*?)>/g,(function(t,n){const o=n.toLocaleLowerCase();return o&&-1===o.indexOf("script")&&-1===o.indexOf("link")?t:t.replace(/[<>]/g,(function(t){return e[t]}))}))},getPathname:function(){let t;const e=window.location.href;if(-1!==e.indexOf("#")){t=e.split("#")[1].split("?")[0]}else t=window.location.pathname;return t}};var d={languageMap:{zh_CN:"中文（中国）",en_US:"英文（澳新）",ja_JP:"日文",es_MX:"西班牙文（墨西哥）",pt_BR:"葡萄牙文（巴西）"},server:"http://127.0.0.1:8081",language:"zh_CN",currentUsername:"",closeImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA1ElEQVQ4T62Tvw6CMBDGC1w3BgeNg09EAoRZo4kMPpQDLOrCBiQ8kYPRxRG9a8wlkKApGKkd78+vX7/rWcLwWIb94r+AKIomdV3LqqquOmWe581c131kWXZv828KgiCYAsCJiNZ5nl+6EN/3F1LKFBGXRVHctAAOhmE4t207QcRdWZZnjnEzAOyVUvEnWOsBK3Ec54iIMQMAICGiVffmXgVtooEchBBPItrqmrm2dwoNIOWinwFGTxgwMVFKbQZNNB4jfyQigj7Dvn6kMXvx310Yo+AFc3SBEZZabuAAAAAASUVORK5CYII=",editImage:"data:image/png;base64,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"};var a=new class{initTipsTag(){const t=document.body,e=document.createElement("div");e.innerHTML='\n      <div class="dd-tooltip">\n        <div class="dd-tooltip-content">\n          <div class="dd-tooltip-arrow dd-tooltip-arrow-plus"></div>\n          <div class="dd-tooltip-inner">\n            <div class="dd-tooltip-inner-title"></div>\n            <div class="dd-tooltip-inner-content"></div>\n          </div>\n        </div>\n      </div>',t.appendChild(e);const n=document.createElement("div"),o=`\n      <div class="dd-popover" id="dd-edit-form" style="width: 500px; display: none">\n        <div class="dd-popover-content">\n          <div class="dd-popover-arrow"></div>\n          <div class="dd-popover-inner" style="background-color: #fff; width: 400px">\n            <div>\n              <div class="dd-popover-title">\n                <span>提示编辑</span>\n                <span data-tip-pop-close="form-close" style="display: inline-block; position: absolute; left: 370px; top: 4px; cursor: pointer">\n                  <img src="${d.closeImage}"/>\n                </span>\n              </div>\n              <div class="dd-popover-inner-content">\n                <form class="dd-form" onsubmit="return false">\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>`;t.appendChild(n),n.innerHTML=o}initCssStyle(t){let e=[".dd-tooltip {\n        position: absolute;\n        z-index: 1060;\n        visibility: visible;\n        font-size: 12px;\n        line-height: 1.5;\n        opacity: .9;\n        display: none;\n        max-width: 300px;\n      }",".dd-tooltip-placement-top {\n        padding: 5px 0 8px;\n      }",".dd-tooltip-placement-bottom {\n        padding: 8px 0 5px;\n      }",".dd-tooltip-placement-left {\n        padding: 0 8px 0 5px;\n      }",".dd-tooltip-placement-right {\n        padding: 0 5px 0 8px;\n      }",".dd-tooltip-placement-top .dd-tooltip-arrow, .dd-tooltip-placement-bottom .dd-tooltip-arrow {\n        left: 50%;\n        margin-left: -5px;\n      }",".dd-tooltip-placement-left .dd-tooltip-arrow, .dd-tooltip-placement-right .dd-tooltip-arrow {\n        top: 50%;\n        margin-top: -5px;\n      }",".dd-tooltip-placement-left .dd-tooltip-arrow {\n        right: 3px;\n        border-width: 5px 0 5px 5px;\n        border-bottom-color: transparent;\n        border-right-color: transparent;\n        border-top-color: transparent;\n      }",".dd-tooltip-placement-right .dd-tooltip-arrow {\n        left: 3px;\n        border-width: 5px 5px 5px 0;\n        border-bottom-color: transparent;\n        border-left-color: transparent;\n        border-top-color: transparent;\n      }",".dd-tooltip-placement-top .dd-tooltip-arrow {\n        bottom: 3px;\n        border-width: 5px 5px 0;\n        border-bottom-color: transparent;\n        border-left-color: transparent;\n        border-right-color: transparent;\n      }",".dd-tooltip-placement-bottom .dd-tooltip-arrow {\n        top: 3px;\n        border-width: 0 5px 5px;\n        border-left-color: transparent;\n        border-right-color: transparent;\n        border-top-color: transparent;\n      }",".dd-tooltip-arrow {\n        position: absolute;\n        width: 0;\n        height: 0;\n        text-decoration: none;\n        border-style: solid;\n      }",".dd-tooltip-arrow-plus {\n        border-color: #373737;\n        display: block;\n      }",".dd-tooltip-inner {\n        padding: 0;\n        color: #fff;\n        text-align: left;\n        text-decoration: none;\n        box-shadow: 0 1px 6px hsla(0,0%,39%,.2);\n      }",".dd-tooltip-inner-title {\n        background-color: #373737;\n        padding: 8px 10px;\n        border-radius: 6px;\n      }",".dd-tooltip-inner-content {\n        background-color: #373737;\n        padding: 8px 10px;\n        border-radius: 6px;\n      }",".dd-popover-placement-top, .dd-popover-placement-topLeft, .dd-popover-placement-topRight {\n        padding-bottom: 4px;\n      }",".dd-popover-placement-bottom, .dd-popover-placement-bottomLeft, .dd-popover-placement-bottomRight {\n        padding-top: 4px;\n      }",".dd-popover {\n        position: absolute;\n        top: 0;\n        left: 0;\n        z-index: 1030;\n        cursor: auto;\n        -webkit-user-select: text;\n        -moz-user-select: text;\n        -ms-user-select: text;\n        user-select: text;\n        white-space: normal;\n        font-size: 12px;\n        line-height: 1.5;\n        font-weight: 400;\n        text-align: left;\n        max-width: 300px;\n      }",".dd-popover-placement-topLeft .dd-popover-arrow {\n        left: 16px;\n      }",".dd-popover-placement-topRight .dd-popover-arrow {\n        right: 16px;\n      }",".dd-popover-placement-bottomLeft .dd-popover-arrow {\n        left: 16px;\n      }",".dd-popover-placement-bottomRight .dd-popover-arrow {\n        right: 16px;\n      }",".dd-popover-placement-top .dd-popover-arrow, .dd-popover-placement-topLeft .dd-popover-arrow, .dd-popover-placement-topRight .dd-popover-arrow {\n        border-bottom-width: 0;\n        border-top-color: #d5f1fd;\n        bottom: 0;\n      }",".dd-popover-placement-bottom .dd-popover-arrow, .dd-popover-placement-bottomLeft .dd-popover-arrow, .dd-popover-placement-bottomRight .dd-popover-arrow {\n        border-top-width: 0;\n        border-bottom-color: #d5f1fd;\n        top: 0;\n      }",".dd-popover-arrow {\n        border-width: 5px;\n      }",'.dd-popover-placement-top .dd-popover-arrow:after, .dd-popover-placement-topLeft .dd-popover-arrow:after, .dd-popover-placement-topRight .dd-popover-arrow:after {\n        content: " ";\n        bottom: 1px;\n        margin-left: -4px;\n        border-bottom-width: 0;\n        border-top-color: #d5f1fd;\n      }','.dd-popover-placement-bottom .dd-popover-arrow:after, .dd-popover-placement-bottomLeft .dd-popover-arrow:after, .dd-popover-placement-bottomRight .dd-popover-arrow:after {\n        content: " ";\n        top: 1px;\n        margin-left: -4px;\n        border-top-width: 0;\n        border-bottom-color: #d5f1fd;\n      }','.dd-popover-arrow:after {\n        border-width: 4px;\n        content: "";\n      }',".dd-popover-arrow, .dd-popover-arrow:after {\n        position: absolute;\n        display: block;\n        width: 0;\n        height: 0;\n        border-color: transparent;\n        border-style: solid;\n      }",".dd-popover-inner {\n        min-width: 177px;\n        background-color: #eaf8fe;\n        background-clip: padding-box;\n        border: 1px solid #d5f1fd;\n        border-radius: 20px;\n        box-shadow: 0 1px 6px #ccc;\n      }",".dd-popover-title {\n        margin: 0;\n        padding: 0 16px;\n        line-height: 32px;\n        height: 32px;\n        border-bottom: 0;\n        color: #787878;\n        font-weight: 400;\n      }",".dd-popover-inner-content {\n        padding: 8px 16px;\n        color: #787878;\n      }",".dd-form {\n        font-size: 12px;\n        font-family: Chinese Quote,-apple-system,BlinkMacSystemFont,Segoe UI,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif;\n      }",".dd-input-control{\n        margin: 10px auto;\n        color: rgba(0,0,0,.85);\n        width: 100%;\n      }",".dd-input-control label {\n        display: inline-block;\n        margin: 5px 0;\n      }",".dd-input-control .dd-input {\n        height: 30px;\n      }",".dd-input-control .dd-input::-webkit-input-placeholder {\n        color: #ddd;\n      }",".dd-input-control .dd-textarea::-webkit-input-placeholder {\n        color: #ddd;\n      }","input[disabled] {\n        background: #f5f5f5;\n        cursor: not-allowed;\n      }",".dd-input-control .dd-textarea {\n        line-height: 20px;\n      }",".dd-input-control .dd-input, .dd-input-control .dd-textarea {\n        padding: 5px;\n        border: 1px #ccc solid;\n        border-radius: 5px;\n        background-color: transparent;\n        width: 100%;\n        color: rgba(0,0,0,.65);\n      }",".dd-select {\n        width: 100%;\n        height: 30px;\n        background-color: #fff;\n        border: 1px #ccc solid;\n        color: rgba(0,0,0,.65);\n      }",".dd-select option {\n        background-color: #fff;\n        line-height: 30px;\n      }",".dd-option {\n        height: 30px !important;\n      }",".dd-radio-group {\n        width: 100%;\n        color: rgba(0,0,0,.65);\n      }",".dd-btn, .dd-btn:active, .dd-btn:focus {\n        outline: 0;\n      }",".dd-btn {\n        line-height: 1.5;\n        display: inline-block;\n        font-weight: 400;\n        text-align: center;\n        -ms-touch-action: manipulation;\n        touch-action: manipulation;\n        cursor: pointer;\n        background-image: none;\n        border: 1px solid transparent;\n        white-space: nowrap;\n        padding: 0 15px;\n        font-size: 14px;\n        border-radius: 4px;\n        height: 32px;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        -webkit-transition: all .3s cubic-bezier(.645,.045,.355,1);\n        transition: all .3s cubic-bezier(.645,.045,.355,1);\n        position: relative;\n        -webkit-box-shadow: 0 2px 0 rgba(0,0,0,.015);\n        box-shadow: 0 2px 0 rgba(0,0,0,.015);\n        color: rgba(0,0,0,.65);\n        background-color: #fff;\n        border-color: #d9d9d9;\n      }",".dd-btn-primary {\n        color: #fff;\n        background-color: #1890ff;\n        border-color: #1890ff;\n        text-shadow: 0 -1px 0 rgba(0,0,0,.12);\n        -webkit-box-shadow: 0 2px 0 rgba(0,0,0,.035);\n        box-shadow: 0 2px 0 rgba(0,0,0,.035);\n      }",".dd-edit-form {\n        position: relative;\n        left: 50%;\n        top: 50%;\n        width: 100%;\n      }",".dd-switch {\n        width: 45px;\n        height: 25px;\n        background-color: #ccc;\n        border-radius: 25px;\n        position: fixed;\n        top: 95%;\n        right: 0px;\n        z-index: 999;\n        display: none;\n      }",".dd-switch span {\n        width: 20px;\n        height: 19px;\n        border-radius: 50%;\n        margin: 3px;\n        background-color: #fff;\n        display: inline-block;\n        cursor: pointer;\n      }",".dd-switch-checked {\n        background-color: #1890ff;\n      }",".dd-switch-checked span {\n        margin-left: 23px;\n      }",".dd-input-control input[disabled] {\n        background-color: #f5f5f5;\n        cursor: not-allowed;\n      }",".dd-input-control textarea[disabled] {\n        background-color: #f5f5f5;\n        cursor: not-allowed;\n      }"];if(t&&t.containerCss){let n=t.containerCss.split("}");n.splice(n.length-1,1),n=n.map(t=>t+"}"),e=e.concat(n)}const n=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(n);for(let t=0;t<e.length;t++)n.sheet.insertRule(e[t],t)}};var r=new class{constructor(){this.editBtnCount={}}setEditBtn(t,e){const n=i.getPathname();if(t&&!this.editBtnCount[n+e]){this.editBtnCount[n+e]=1;let o=!1;const i=t.parentNode,a=i.querySelectorAll("[data-tip-edit-id]");for(let t=0;t<a.length;t++)a[t].getAttribute("data-tip-edit-id")===e&&(o=!0);if(!o){const n=document.createElement("sup");n.setAttribute("data-tip-edit-id",e),n.innerHTML=`<img src="${d.editImage}" style="width: 20px; height: 20px; cursor: pointer"/>`,i.insertBefore(n,t.nextSibling)}}}addEditBtn(){const t=document.body.querySelectorAll("[data-tip-id]");for(let e=0;e<t.length;e++){const n=t[e].getAttribute("data-tip-id");this.setEditBtn(t[e],n)}}hideAllEditBtn(){const t=document.querySelectorAll("[data-tip-edit-id]");for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}};var s=new class{setSwitch(){const t=d.perm,e=document.body,n=document.createElement("div");n.innerHTML='\n      <div class="dd-switch">\n        <span></span>\n      </div>',e.appendChild(n);let o=window.localStorage.getItem("TipsSwitchPosition");if(o){o=JSON.parse(o);const t=document.querySelector(".dd-switch");t&&(t.style.left=o.left+"%",t.style.top=o.top+"%")}const i=document.querySelector(".dd-switch");this.switchDrag(i);const a=window.sessionStorage.getItem("switch");t||"open"===a?("open"===a?(r.addEditBtn(),i.className="dd-switch dd-switch-checked"):i.className="dd-switch",i.style.display="inline-block"):i.style.display="none"}switchDrag(t){t&&t.addEventListener("mousedown",(function(e){let n=!0;const o=t.offsetLeft,d=t.offsetTop,a=parseInt(e.clientX),r=parseInt(e.clientY),s=a-o,l=r-d;let p,c;t.parentNode.style.cssText="position: fixed; left: 0; top: 0; right: 0; bottom: 0; z-index: 1000",document.addEventListener("mousemove",i.debounce((function(e){if(n){p=e.clientX-s,c=e.clientY-l;const n=document.documentElement.clientWidth-t.offsetWidth,o=document.documentElement.clientHeight-t.offsetHeight;p=Math.min(Math.max(0,p),n)/document.documentElement.clientWidth*100,c=Math.min(Math.max(0,c),o)/document.documentElement.clientHeight*100,t.style.left=p+"%",t.style.top=c+"%"}}),10),!1),document.addEventListener("mouseup",(function(){n=!1,t.parentNode.style.cssText="",window.localStorage.setItem("TipsSwitchPosition",JSON.stringify({left:p,top:c}))}),!1)}),!1)}};var l=new class{constructor(){this.timer=null}setToolTips(t,e,n){const o=this;t.onmouseenter||function(e,n){t.onmouseenter=i.debounce((function(t){clearTimeout(o.timer);const i=t.target,d=i.getBoundingClientRect().top+window.pageYOffset,a=i.getBoundingClientRect().left,r=i.getBoundingClientRect().width,s=i.getBoundingClientRect().height;o.showToolTips(e,a,d,r,s,n)}),200),t.onmouseleave=i.debounce((function(){o.hideTooltipsByDelay()}),200)}(e,n)}showToolTips(t,e,n,o,d,a){const r=this.systemInfo&&this.systemInfo.titleSize?Number(this.systemInfo.titleSize):0,s=document.querySelector(".dd-tooltip"),l=document.querySelector(".dd-tooltip-inner-title"),p=document.querySelector(".dd-tooltip-inner-content");let c,u,g,m;l.style.display="none",p.style.display="none",a.title&&a.title.length>r&&(l.innerHTML=i.filterTag(a.title),l.style.display="block"),a.content&&(p.innerHTML=i.filterTag(a.content),p.style.display="block"),a.title&&a.content&&a.title.length>r&&(l.style.borderBottomLeftRadius="0px",l.style.borderBottomRightRadius="0px",p.style.borderTopLeftRadius="0px",p.style.borderTopRightRadius="0px"),s.style.display="block","bottom"===a.location?(s.className="dd-tooltip dd-tooltip-placement-bottom",c=s.getBoundingClientRect().width,g=n+d,m=e+o/2-c/2):"left"===a.location?(s.className="dd-tooltip dd-tooltip-placement-left",c=s.getBoundingClientRect().width,u=s.getBoundingClientRect().height,g=n-(u-d)/2,m=e-c):"right"===a.location?(s.className="dd-tooltip dd-tooltip-placement-right",u=s.getBoundingClientRect().height,g=n-(u-d)/2,m=e+o):(s.className="dd-tooltip dd-tooltip-placement-top",c=s.getBoundingClientRect().width,u=s.getBoundingClientRect().height,g=n-u-5,m=e+o/2-c/2);const h=window.screen.width;m<0?m=0:m+o>h&&(m=h-o),s.style.top=g+"px",s.style.left=m+"px"}hideToolTips(){document.querySelector(".dd-tooltip").style.display="none"}hideTooltipsByDelay(){const t=this;clearTimeout(t.timer),t.timer=setTimeout((function(){t.hideToolTips()}),300)}addMouseEventByTooltip(){const t=document.querySelector(".dd-tooltip"),e=this;t.onmouseenter=i.debounce((function(t){clearTimeout(e.timer);t.target.style.display="block"}),200),t.onmouseleave=i.debounce((function(){e.hideTooltipsByDelay()}),200)}clearEventListener(){const t=document.body.querySelectorAll("[data-tip-id]");for(let e=0;e<t.length;e++)t[e].onmouseenter=null,t[e].onmouseleave=null}};var p=new class{constructor(){this.popFlag=!1,this.popCount={}}setPopTips(t,e,n){const o=i.getPathname(),d=window.localStorage.getItem(o+e);if(n.isPop&&d!==i.getTime()){if(e&&n&&!this.popCount[o+e]){this.popCount[o+e]=1;const d=t.getBoundingClientRect().top+window.pageYOffset,a=t.getBoundingClientRect().left,r=t.getBoundingClientRect().width,s=t.getBoundingClientRect().height;n.title&&n.content&&(this.showPopTips(a,r,d,s,e,n),window.localStorage.setItem(o+e,i.getTime())),this.popFlag||(this.popFlag=!0)}this.popFlag&&this.autoClosePopOver()}}showPopTips(t,e,n,o,a,r){const s=document.body,l=document.createElement("div"),p=`<div class="dd-popover dd-popover-placement-${r.location} dd-popover-elem" id="dd-tip-pop-${a}" style="display: block;">\n        <div class="dd-popover-content">\n          <div class="dd-popover-arrow"></div>\n          <div class="dd-popover-inner" style="max-width: 240px">\n            <div>\n              <div class="dd-popover-title">\n                <span>${i.filterTag(r.title)}</span>\n                <span data-tip-pop-close="${a}" style="display: inline-block; position: absolute; right: 10px; top: 4px; cursor: pointer">\n                  <img src="${d.closeImage}"/>\n                </span>\n              </div>\n              <div class="dd-popover-inner-content">\n                <div>${i.filterTag(r.content)}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>`;l.innerHTML=p,s.appendChild(l);let c=0,u=0;const g=document.getElementById("dd-tip-pop-"+a);"bottomLeft"===r.location||"topLeft"===r.location?c=t+e/2-20:"bottomRight"!==r.location&&"topRight"!==r.location||(c=t-(g.getBoundingClientRect().width-e/2-20)),"topLeft"===r.location||"topRight"===r.location?u=n-g.getBoundingClientRect().height-3:"bottomLeft"!==r.location&&"bottomRight"!==r.location||(u=n+o+3),g.style.left=c+"px",g.style.top=u+"px"}autoClosePopOver(){const t=window.setTimeout((function(){const e=document.querySelectorAll(".dd-popover-elem");for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t]);window.clearTimeout(t),this.popFlag=!1}),8e3)}};var c=new class{setDocument(t,e,n){if(t&&t.getAttribute("doc-tag")!==`${d.language}-${e}`&&n&&n.content){t.setAttribute("doc-tag",`${d.language}-${e}`);const o=n.content;t.innerHTML=i.filterTag(o)}}};var u=new class{constructor(){this.tipsData={},this.prePathname="",this.tipsOriginData=[],this.systemInfo={}}observerUIChange(){const t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,e=document.querySelector("body"),n=this;new t((function(t){if(t.length<10){for(let e=0;e<t.length;e++)if(t[e].target&&t[e].target.innerHTML){const o=t[e].target.innerHTML,i=t[e].target.getAttribute?t[e].target.getAttribute("data-tip-id"):"";if(o.indexOf("data-tip-id")>-1||i){n.addTipsAndEditbtn();break}}}else n.addTipsAndEditbtn();n.change()})).observe(e,{childList:!0,subtree:!0,attributes:!0})}getTipsDataByRouter(t){const e=this.tipsOriginData,n={};for(let o=0;o<e.length;o++)e[o].router===t&&(n[e[o].id]||(n[e[o].id]=[]),"doc"===e[o].tipType?e[o].content=e[o][d.language+"_content"]||e[o].en_US_content:(e[o].content=e[o][d.language+"_content"]||e[o][d.language+"_title"]?e[o][d.language+"_content"]:e[o].en_US_content,e[o].title=e[o][d.language+"_content"]||e[o][d.language+"_title"]?e[o][d.language+"_title"]:e[o].en_US_title),n[e[o].id].push(e[o]));this.tipsData=n}addTips(){const t=document.body.querySelectorAll("[data-tip-id]");for(let e=0;e<t.length;e++){const n=t[e].getAttribute("data-tip-id");if(this.tipsData[n]){const o=this.tipsData[n];for(let i=0;i<o.length;i++)"tip"===o[i].tipType?l.setToolTips(t[e],n,o[i]):"pop"===o[i].tipType?p.setPopTips(t[e],n,o[i]):"doc"===o[i].tipType&&c.setDocument(t[e],n,o[i])}}}addTipsAndEditbtn(){const t=window.sessionStorage.getItem("switch");this.addTips(),d.perm&&"open"===t&&r.addEditBtn()}change(t){const e=i.getPathname();if(this.prePathname!==e||t&&this.language!==t){this.prePathname=e,d.language=t||d.language,r.editBtnCount={};var n=document.querySelectorAll(".dd-popover-elem");for(let t=0;t<n.length;t++)n[t].parentNode.removeChild(n[t]);this.tipsData={},l.clearEventListener(),l.hideToolTips(),this.getTipsDataByRouter(e),this.addTipsAndEditbtn()}}};var g=new class{constructor(){this.serviceName="",this.initServiceName()}initServiceName(){for(var t=document.getElementsByTagName("script"),e=0;e<t.length;e++){var n=t[e].getAttribute("data-service");if(n){this.serviceName=n;break}}}initTipsContent(){const t=`${d.server}/v1/api/tips?systemName=${this.serviceName}`;o(t,"GET",null,this.initTipsCallback.bind(this))}initDocumentContent(){const t=`${d.server}/v1/api/documents?systemName=${this.serviceName}`;o(t,"GET",null,this.initDocumentCallback.bind(this))}initUserPerm(t){const e=`${d.server}/v1/api/perm?systemName=${this.serviceName}&currentUsername=${t}`;o(e,"GET",null,t=>{try{const e=JSON.parse(t.responseText);e&&200===e.code&&e.data&&(d.perm=e.data,s.setSwitch())}catch(t){throw new Error(t)}})}initTipsCallback(t){try{const e=JSON.parse(t.responseText);if(200===e.code&&e.data&&e.data.tipList){const t=e.data.tipList,n=[];t.forEach((function(t){if(0===t.status){if(t.createDate&&"pop"===t.tipType&&t.interval){const e=new Date(t.createDate).valueOf(),n=(new Date).valueOf(),o=parseInt((e-n)/1e3/60/60/24);0!==o&&o/t.interval!==parseInt(o/t.interval)||(t.isPop=!0)}n.push(t)}}));const o=e.data.systemInfo,d=i.getPathname();a.initCssStyle(),a.initTipsTag(o),u.prePathname=d,u.tipsOriginData=u.tipsOriginData.concat(n),u.systemInfo=o,l.addMouseEventByTooltip(),u.getTipsDataByRouter(d),u.addTips(),u.observerUIChange()}}catch(t){throw new Error(t)}}initDocumentCallback(t){try{const e=JSON.parse(t.responseText),n=window.location.host;if(200===e.code&&e.data&&e.data&&e.data.systemInfo)if(n===e.data.systemInfo.domain){const t=e.data.documentList,n=i.getPathname();u.prePathname=n,u.tipsOriginData=u.tipsOriginData.concat(t),u.getTipsDataByRouter(n),u.addTips()}else{const t=`${d.server}/v1/api/document/list?systemName=${this.serviceName}`;o(t,"GET",null,this.getDocumentList)}}catch(t){throw new Error(t)}}getDocumentList(t){try{const e=JSON.parse(t.responseText);if(200===e.code&&e.data&&e.data.documentList&&e.data.documentList.length>0){let t=e.data.documentList;t=t.filter((function(t){return 0===t.status}));const n=i.getPathname();u.prePathname=n,u.tipsOriginData=u.tipsOriginData.concat(t),u.getTipsDataByRouter(n),u.addTips()}}catch(t){throw new Error(t)}}};var m={cssArray:[".dd-message-notice {\n      padding: 8px;\n      text-align: center;\n    }",".dd-message-notice-content {\n      display: inline-block;\n      padding: 10px 16px;\n      background: #fff;\n      border-radius: 4px;\n      -webkit-box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n      pointer-events: all;\n    }",".dd-message .ddicon {\n      position: relative;\n      top: 1px;\n      margin-right: 8px;\n      font-size: 16px;\n    }",".dd-message-success .ddicon {\n      color: #52c41a;\n    }",".dd-message-error .ddicon {\n      color: #f5222d;\n    }",".ddicon {\n      display: inline-block;\n      color: inherit;\n      font-style: normal;\n      line-height: 0;\n      text-align: center;\n      text-transform: none;\n      vertical-align: -0.125em;\n      text-rendering: optimizeLegibility;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n    }",".dd-message {\n      -webkit-box-sizing: border-box;\n      box-sizing: border-box;\n      margin: 0;\n      padding: 0;\n      color: rgba(0, 0, 0, 0.65);\n      font-size: 14px;\n      font-variant: tabular-nums;\n      line-height: 1.5;\n      list-style: none;\n      -webkit-font-feature-settings: 'tnum';\n      font-feature-settings: 'tnum';\n      position: fixed;\n      top: 16px;\n      left: 0;\n      z-index: 1010;\n      width: 100%;\n      pointer-events: none;\n    }"],initCssStyle:function(){const t=document.createElement("style"),e=document.getElementsByTagName("head")[0],n=this.cssArray;e.appendChild(t);for(var o=0;o<n.length;o++)t.sheet.insertRule(n[o],o)},successTag:function(t){return`<div class="dd-message dd-message-notice"><div class="dd-message-notice-content"><div class="dd-message-custom-content dd-message-success"><i aria-label="icon: check-circle" class="ddicon ddicon-check-circle"><svg viewBox="64 64 896 896" class="" data-icon="check-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 0 1-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"></path></svg></i><span>${t}</span></div></div></div>`},errorTag:function(t){return`<div class="dd-message dd-message-notice"><div class="dd-message-notice-content"><div class="dd-message-custom-content dd-message-error"><i aria-label="icon: close-circle" class="ddicon ddicon-close-circle"><svg viewBox="64 64 896 896" class="" data-icon="close-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 0 1-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"></path></svg></i><span>${t}</span></div></div></div>`},show:function(t){const e=document.createElement("div");e.className="dd-notification-container",e.innerHTML=t,document.body.appendChild(e)},hide:function(){const t=setTimeout((function(){const e=document.querySelector(".dd-notification-container");document.body.removeChild(e),clearTimeout(t)}),3e3)},success:function(t){this.show(this.successTag(t)),this.hide()},error:function(t){this.show(this.errorTag(t)),this.hide()}};var h=new class{constructor(){this.tipsId=""}showEditForm(t,e,n,o,i){let d;d=n<=500?"bottomLeft":"bottomRight";let a=0,r=0;const s=document.getElementById("dd-edit-form");s.className="dd-popover dd-popover-placement-"+d,s.style.display="block","bottomLeft"===d?a=n+o/2-20:"bottomRight"===d&&(a=n-(s.getBoundingClientRect().width-o/2-20)),"bottomLeft"!==d&&"bottomRight"!==d||(r=e+i+3),s.style.left=a+"px",s.style.top=r+"px",this.tipsId=t;const l=u.tipsData[t];l&&l.length>0?this.choiceTipType(l[0].tipType):this.choiceTipType("tip")}choiceTipType(t){let e={};if(u.tipsData[this.tipsId]){const n=u.tipsData[this.tipsId];n&&n.length>0&&(e=n.find(e=>e.tipType===t)||{})}u.systemInfo;const n=u.systemInfo.memberList;let o="",i="";const a=d.perm;3650===e.interval&&(e.interval=0),n.forEach(n=>{const r="all"===a||-1!==a.indexOf(n.lang)?"":"disabled",s=e[n.lang+"_content"]||"";if("tip"===t||"pop"===t){const t=e[n.lang+"_title"]||"";o+=`<div class="dd-input-control">\n          <label for="title">${d.languageMap[n.lang]}提示：</label>\n          <input type="text" lang=${n.lang} name="title" class="dd-input" placeholder="填写提示标题" ${r} value="${t.replace(/"/g,"&quot;")}">\n          <textarea lang=${n.lang} name="content" rows="2" class="dd-textarea" placeholder="填写提示内容" style="margin-top: 5px" ${r}>${s}</textarea>\n        </div>`}else"doc"===t&&(i+=`<div class="dd-input-control">\n          <label for="content">${d.languageMap[n.lang]}内容：</label>\n          <textarea lang=${n.lang} name="content" rows="2" class="dd-textarea" placeholder="填写文档内容" ${r}>${s}</textarea>\n        </div>`)});const r=function(t){return`\n    <div class="dd-input-control">\n      <label for="tip">类型：</label>\n      <div class="dd-radio-group">\n        <input type="radio" name="tip" value="pop" id="radio-pop"/>&nbsp;&nbsp;气泡提示\n        <input type="radio" name="tip" value="tip" checked id="radio-tip" style="margin-left: 40px"/>&nbsp;&nbsp;悬浮提示\n        <input type="radio" name="tip" value="doc" id="radio-doc" style="margin-left: 40px"/>&nbsp;&nbsp;文档修改\n      </div>\n    </div>\n    <div style="color: orange">如果不需要标题，填写内容即可</div>\n    ${t}\n    <div class="dd-input-control">\n      <label for="location">提示位置：</label>\n      <select name="location" class="dd-select">\n        <option value="top">上方</option>\n        <option value="bottom">下方</option>\n        <option value="left">左方</option>\n        <option value="right">右方</option>\n      </select>\n    </div>\n    <div class="dd-input-control" style="text-align: right; margin-top: 10px">\n      <button class="dd-btn" style="margin-right: 20px" data-tip-pop-close="form-close">取消</button>\n      <button class="dd-btn dd-btn-primary" id="tips-submit">提交</button>\n    </div>`}(o),s=function(t,e){return`\n    <div class="dd-input-control">\n      <label for="tip">类型：</label>\n      <div class="dd-radio-group">\n        <input type="radio" name="tip" value="pop" checked id="radio-pop"/>&nbsp;&nbsp;气泡提示\n        <input type="radio" name="tip" value="tip" id="radio-tip" style="margin-left: 40px"/>&nbsp;&nbsp;悬浮提示\n        <input type="radio" name="tip" value="doc" id="radio-doc" style="margin-left: 40px"/>&nbsp;&nbsp;文档修改\n      </div>\n    </div>\n    ${t}\n    <div class="dd-input-control">\n      <label for="location">提示位置：</label>\n      <select name="location" class="dd-select">\n        <option value="topRight">左上方</option>\n        <option value="bottomRight">左下方</option>\n        <option value="topLeft">右上方</option>\n        <option value="bottomLeft">右下方</option>\n      </select>\n    </div>\n    <div class="dd-input-control">\n      <label for="location">提示周期：</label><br/>\n      <input type="number" name="interval" class="dd-input" placeholder="填写弹出周期" value="${e.interval}" style="width: 30%">（天/次）<span style="color: orange">0表示只弹一次</span>\n    </div>\n    <div class="dd-input-control" style="text-align: right; margin-top: 10px">\n      <button class="dd-btn" style="margin-right: 20px" data-tip-pop-close="form-close">取消</button>\n      <button class="dd-btn dd-btn-primary" id="tips-submit">提交</button>\n    </div>`}(o,e),l=function(t,e){return`\n    <div class="dd-input-control">\n      <label for="tip">类型：</label>\n      <div class="dd-radio-group">\n        <input type="radio" name="tip" value="pop" id="radio-pop"/>&nbsp;&nbsp;气泡提示\n        <input type="radio" name="tip" value="tip" id="radio-tip" style="margin-left: 40px"/>&nbsp;&nbsp;悬浮提示\n        <input type="radio" name="tip" value="doc" checked id="radio-doc" style="margin-left: 40px"/>&nbsp;&nbsp;文档修改\n      </div>\n    </div>\n    <div style="color: orange">文档修改和<span style="color: red">线上环境域名绑定</span>，修改后在非线上环境可以立即看到效果，确认无误后在【管理系统】点击发布，线上环境即可生效</div>\n    ${t}\n    <div class="dd-input-control" style="text-align: right; margin-top: 10px">\n      <button class="dd-btn" style="margin-right: 20px" data-tip-pop-close="form-close">取消</button>\n      <button class="dd-btn dd-btn-primary" id="tips-submit">提交</button>\n    </div>`}(i),p=document.querySelector(".dd-form");"tip"===t?(p.innerHTML=r,this.setInitValue("tip",e)):"pop"===t?(p.innerHTML=s,this.setInitValue("pop",e)):"doc"===t&&(p.innerHTML=l)}setInitValue(t,e){if("tip"===t||"pop"===t){const t=document.getElementsByName("location")[0];switch(e.location){case"bottom":case"bottomRight":t.selectedIndex=1;break;case"left":case"topLeft":t.selectedIndex=2;break;case"right":case"bottomLeft":t.selectedIndex=3;break;default:t.selectedIndex=0}}}submitTips(){const t=document.getElementById("radio-tip"),e=document.getElementById("radio-pop"),n=document.getElementById("radio-doc"),a=i.getPathname();let r=d.server+"/v1/api/tips/add",s={};if(t.checked||e.checked){const n=t.checked?t.value:e.value,o=document.getElementsByName("title"),i=document.getElementsByName("content"),r=document.getElementsByName("location")[0],l=r[r.selectedIndex].value;if(s={id:this.tipsId,tipType:n,location:l,router:a,systemName:g.serviceName,lastRedactor:d.currentUsername},o.forEach((t,e)=>{s[t.lang+"_title"]=t.value,s[t.lang+"_content"]=i[e].value}),e.checked){const t=document.getElementsByName("interval")[0];s.interval=parseInt(t.value)<=0?3650:parseInt(t.value)}}else if(n.checked){const t=n.value,e=document.getElementsByName("content");s={id:this.tipsId,tipType:t,router:a,systemName:g.serviceName,lastRedactor:d.currentUserName},e.forEach(t=>{s[t.lang+"_content"]=t.value}),r=d.server+"/v1/api/document/add"}o(r,"POST",JSON.stringify(s),this.successCallback)}successCallback(){m.success("保存成功！")}};var f=new class{initEventProxy(){const t=this;document.addEventListener("click",(function(e){let n={};if(event?(event.stopPropagation(),n=event.target):e&&(e.stopPropagation(),n=e.target),"tip"===n.value||"pop"===n.value||"doc"===n.value)h.choiceTipType(n.value);else if(n.getAttribute("data-tip-pop-close"))t.clickClose(n);else if("tips-submit"===n.id)h.submitTips();else if(n.parentNode&&n.parentNode!==document){const e=n.parentNode;e.getAttribute("data-tip-pop-close")&&t.clickClose(e);const o=e.getAttribute("data-tip-edit-id");if(o){const t=e.getBoundingClientRect().top+window.pageYOffset,n=e.getBoundingClientRect().left,i=e.getBoundingClientRect().width,d=e.getBoundingClientRect().height;h.showEditForm(o,t,n,i,d)}e&&"dd-switch dd-switch-checked"===e.className?(window.sessionStorage.setItem("switch","close"),e.className="dd-switch",r.editBtnCount={},r.hideAllEditBtn()):e&&"dd-switch"===e.className&&(window.sessionStorage.setItem("switch","open"),e.className="dd-switch dd-switch-checked",r.addEditBtn())}}))}clickClose(t){const e=t.getAttribute("data-tip-pop-close");if(e){const t=document.getElementById("dd-tip-pop-"+e),n=document.getElementById("dd-edit-form");t&&t.parentNode.removeChild(t),n&&(n.style.display="none")}}};window.Tips={init(t,e){e&&e.indexOf("-")>-1&&(e=e.replace(/-/g,"_")),d.language=e||"zh_CN",d.currentUsername=t,g.initTipsContent(),g.initUserPerm(t)},changeLanguage(t){t&&t.indexOf("-")>-1&&(t=t.replace(/-/g,"_")),u.change(t),s.setSwitch()},setUserName(t){if(t){var e=this.systemInfo,n=e.memberList,o=e.creator;n.forEach((function(t){t.username&&(o+=t.username)})),o.indexOf(t)>-1&&(d.perm=!0,window.sessionStorage.setItem("switch","open"),s.setSwitch())}}};try{m.initCssStyle(),g.initDocumentContent(),f.initEventProxy(),window.dispatchEvent?window.document.dispatchEvent(new Event("TipsSDKReady")):window.document.fireEvent(new Event("TipsSDKReady"))}catch(t){throw new Error(t)}}]);